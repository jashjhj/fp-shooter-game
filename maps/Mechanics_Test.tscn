[gd_scene load_steps=7 format=3 uid="uid://cnkn2p4cmdon3"]

[ext_resource type="PackedScene" uid="uid://c007vgboxblaa" path="res://player/player.tscn" id="1_uyhpc"]
[ext_resource type="PackedScene" uid="uid://miyu0xijfe7m" path="res://maps/map_resources/RubbishCollector.tscn" id="2_kpkau"]
[ext_resource type="PackedScene" uid="uid://6iwvem2ecddd" path="res://maps/map_resources/environment.tscn" id="3_ncl7n"]
[ext_resource type="PackedScene" uid="uid://kfamnabyuul1" path="res://npc/test_npcs/legs/legbot3000.tscn" id="4_kpkau"]
[ext_resource type="PackedScene" uid="uid://wj3o5lh1ipji" path="res://npc/test_npcs/legs/legbotleg.tscn" id="5_ncl7n"]

[sub_resource type="NavigationMesh" id="NavigationMesh_mvpoq"]
vertices = PackedVector3Array(2.77081, 0.194657, -8.5738, 2.77081, 0.194657, -7.97379, 3.07081, 0.194657, -7.97379, 3.07081, 0.194657, -8.5738, 5.17081, 0.194657, -8.97379, 5.57081, 0.194657, -8.5738, 11.3708, 0.194657, -7.77379, 11.3708, 0.194657, -52.3738, 2.37081, 0.194657, -8.97379, 3.47081, 0.194657, -8.97379, -2.62919, 0.194657, -8.5738, -2.62919, 0.194657, -7.77379, -2.42919, 0.194657, -7.77379, -2.42919, 0.194657, -8.5738, -2.82919, 0.194657, -8.87379, -2.02919, 0.194657, -8.97379, -11.3292, 0.194657, -7.77379, -5.12919, 0.194657, -7.77379, -5.12919, 0.194657, -8.5738, 0.0708084, 0.194657, -8.5738, 0.0708084, 0.194657, -7.77379, 0.270808, 0.194657, -7.77379, 0.270808, 0.194657, -8.5738, 0.670808, 0.194657, -8.97379, -0.129192, 0.194657, -8.87379, 5.57081, 0.194657, -7.77379, -4.72919, 0.194657, -8.97379, -11.3292, 0.194657, -52.3738, -4.12919, 0.794657, -7.97379, -4.12919, 0.794657, -7.5738, -3.62919, 0.794657, -7.5738, -3.62919, 0.794657, -7.97379, -1.42919, 2.59466, -7.97379, -1.42919, 2.59466, -7.5738, -0.929192, 2.59466, -7.5738, -0.929192, 2.59466, -7.97379, 1.27081, 4.19466, -7.97379, 1.27081, 4.19466, -7.5738, 1.77081, 4.19466, -7.5738, 1.77081, 4.19466, -7.97379, 2.77081, 0.194657, -6.97379, 3.17081, 0.194657, -6.77379, 2.47081, 0.194657, -6.67379, 3.47081, 0.194657, -2.77379, 3.77081, 0.194657, -3.0738, 3.47081, 0.194657, -6.5738, 4.57081, 0.194657, -3.0738, 4.47081, 0.194657, -6.5738, 4.07081, 4.19466, -7.97379, 4.07081, 4.19466, -7.5738, 4.57081, 4.19466, -7.5738, 4.57081, 4.19466, -7.97379, -1.32919, 0.194657, -7.87379, -1.32919, 0.194657, -7.67379, -1.02919, 0.194657, -7.67379, -1.02919, 0.194657, -7.87379, 1.37081, 0.194657, -7.87379, 1.37081, 0.194657, -7.67379, 1.67081, 0.194657, -7.67379, 1.67081, 0.194657, -7.87379, 4.17081, 0.194657, -7.87379, 4.17081, 0.194657, -7.67379, 4.47081, 0.194657, -7.67379, 4.47081, 0.194657, -7.87379, -11.3292, 0.194657, -1.67379, -9.52919, 0.194657, -1.67379, -9.22919, 0.194657, -2.17379, -4.82919, 0.194657, -2.0738, -4.62919, 0.194657, -6.5738, -5.12919, 0.194657, -6.97379, 0.270808, 0.194657, -6.97379, 0.0708084, 0.194657, -6.97379, 0.470808, 0.194657, -6.67379, -2.02919, 0.194657, -6.5738, -4.62919, 0.194657, -1.97379, 3.37081, 0.194657, -1.97379, -0.129192, 0.194657, -6.67379, -2.42919, 0.194657, -6.97379, -2.62919, 0.194657, -6.97379, -2.82919, 0.194657, -6.67379, 5.17081, 0.194657, -6.5738, 5.67081, 0.194657, -2.97379, 5.47081, 0.194657, -6.77379, 5.87081, 0.194657, -2.67379, 5.87081, 0.194657, -2.0738, 11.3708, 0.194657, -2.17379, 5.87081, 0.194657, 8.02621, 11.3708, 0.194657, 8.12621, 4.37081, 2.49466, -2.0738, 4.37081, 2.49466, 8.02621, 4.87081, 2.49466, 8.02621, 4.87081, 2.49466, -2.0738, -0.229192, 0.194657, 7.62621, -0.229192, 0.194657, 8.12621, 3.37081, 0.194657, 8.12621, -0.629192, 0.194657, 7.22621, -4.52919, 0.194657, 2.9262, -4.82919, 0.194657, 3.22621, -4.62919, 0.194657, 7.22621, 4.47081, 0.194657, -1.97379, 4.47081, 0.194657, 1.72621, 4.77081, 0.194657, 1.72621, 4.77081, 0.194657, -1.97379, -11.3292, 0.194657, 2.82621, -9.52919, 0.194657, 2.82621, -9.22919, -0.00534344, 2.32621, -9.22919, -0.00534344, -1.17379, -10.0252, 0.194657, -0.679398, -5.52919, -0.805343, 2.32621, -5.52919, -0.805343, -1.17379, -7.11491, -0.805343, 2.32621, -7.11491, -0.805343, -1.17379, -9.22919, 0.194657, 3.32621, -5.12919, 0.194657, 7.62621, -11.3292, 0.194657, 8.4262, -5.12919, 0.194657, 8.4262, 4.47081, 0.194657, 4.22621, 4.47081, 0.194657, 7.9262, 4.77081, 0.194657, 7.9262, 4.77081, 0.194657, 4.22621, 3.37081, 0.194657, 8.62621, -0.229192, 0.194657, 9.22621, 3.77081, 0.194657, 9.02621, -4.72919, 0.194657, 9.62621, -5.12919, 0.194657, 9.22621, -11.3292, 0.194657, 56.8262, -0.629192, 0.194657, 9.62621, 11.3708, 0.194657, 56.8262, 5.47081, 0.194657, 9.02621, 5.87081, 0.194657, 8.62621, -4.12919, 3.79466, 8.22621, -4.12919, 3.79466, 8.62621, -1.22919, 3.79466, 8.62621, -1.22919, 3.79466, 8.22621, -4.02919, 0.194657, 8.32621, -4.02919, 0.194657, 8.52621, -1.32919, 0.194657, 8.52621, -1.32919, 0.194657, 8.32621)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(3, 0, 9), PackedInt32Array(9, 0, 8), PackedInt32Array(9, 8, 7), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(7, 4, 9), PackedInt32Array(10, 14, 13), PackedInt32Array(13, 14, 15), PackedInt32Array(18, 17, 16), PackedInt32Array(22, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(7, 8, 23), PackedInt32Array(19, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(6, 25, 5), PackedInt32Array(18, 16, 26), PackedInt32Array(26, 16, 27), PackedInt32Array(14, 26, 15), PackedInt32Array(15, 26, 27), PackedInt32Array(24, 15, 23), PackedInt32Array(23, 15, 27), PackedInt32Array(23, 27, 7), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(39, 38, 36), PackedInt32Array(36, 38, 37), PackedInt32Array(1, 2, 40), PackedInt32Array(40, 2, 41), PackedInt32Array(40, 41, 42), PackedInt32Array(42, 41, 45), PackedInt32Array(42, 45, 44), PackedInt32Array(42, 44, 43), PackedInt32Array(46, 44, 47), PackedInt32Array(47, 44, 45), PackedInt32Array(51, 50, 48), PackedInt32Array(48, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(63, 62, 60), PackedInt32Array(60, 62, 61), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 16), PackedInt32Array(68, 67, 69), PackedInt32Array(69, 67, 66), PackedInt32Array(69, 66, 16), PackedInt32Array(16, 17, 69), PackedInt32Array(71, 20, 70), PackedInt32Array(70, 20, 21), PackedInt32Array(72, 42, 73), PackedInt32Array(73, 42, 43), PackedInt32Array(73, 43, 75), PackedInt32Array(73, 75, 74), PackedInt32Array(70, 72, 71), PackedInt32Array(71, 72, 76), PackedInt32Array(73, 76, 72), PackedInt32Array(78, 11, 77), PackedInt32Array(77, 11, 12), PackedInt32Array(79, 73, 68), PackedInt32Array(68, 73, 67), PackedInt32Array(67, 73, 74), PackedInt32Array(78, 77, 79), PackedInt32Array(79, 77, 73), PackedInt32Array(46, 47, 80), PackedInt32Array(80, 82, 46), PackedInt32Array(46, 82, 81), PackedInt32Array(85, 84, 83), PackedInt32Array(81, 82, 83), PackedInt32Array(83, 82, 25), PackedInt32Array(83, 25, 6), PackedInt32Array(83, 6, 85), PackedInt32Array(84, 85, 86), PackedInt32Array(86, 85, 87), PackedInt32Array(91, 90, 88), PackedInt32Array(88, 90, 89), PackedInt32Array(94, 93, 92), PackedInt32Array(92, 95, 94), PackedInt32Array(94, 95, 96), PackedInt32Array(94, 96, 74), PackedInt32Array(94, 74, 75), PackedInt32Array(97, 96, 98), PackedInt32Array(98, 96, 95), PackedInt32Array(102, 101, 99), PackedInt32Array(99, 101, 100), PackedInt32Array(106, 107, 65), PackedInt32Array(65, 107, 64), PackedInt32Array(64, 107, 103), PackedInt32Array(103, 105, 104), PackedInt32Array(105, 107, 106), PackedInt32Array(107, 105, 103), PackedInt32Array(108, 110, 109), PackedInt32Array(109, 110, 111), PackedInt32Array(111, 110, 105), PackedInt32Array(111, 105, 106), PackedInt32Array(103, 104, 112), PackedInt32Array(98, 113, 97), PackedInt32Array(97, 113, 112), PackedInt32Array(115, 114, 113), PackedInt32Array(113, 114, 112), PackedInt32Array(112, 114, 103), PackedInt32Array(119, 118, 116), PackedInt32Array(116, 118, 117), PackedInt32Array(93, 94, 120), PackedInt32Array(122, 121, 120), PackedInt32Array(120, 121, 93), PackedInt32Array(124, 123, 114), PackedInt32Array(114, 123, 125), PackedInt32Array(121, 122, 126), PackedInt32Array(126, 122, 128), PackedInt32Array(126, 128, 127), PackedInt32Array(126, 127, 125), PackedInt32Array(129, 86, 87), PackedInt32Array(129, 87, 128), PackedInt32Array(128, 87, 127), PackedInt32Array(125, 123, 126), PackedInt32Array(114, 115, 124), PackedInt32Array(133, 132, 130), PackedInt32Array(130, 132, 131), PackedInt32Array(137, 136, 134), PackedInt32Array(134, 136, 135)]
cell_size = 0.1
cell_height = 0.1

[node name="MechanicsTest" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_uyhpc")]
transform = Transform3D(-0.808327, 0, -0.588734, 0, 1, 0, 0.588734, 0, -0.808327, -1.15217, 0, -27.1494)

[node name="Rubbish" parent="." instance=ExtResource("2_kpkau")]

[node name="Environment2" parent="." instance=ExtResource("3_ncl7n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.72599, 0)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_mvpoq")

[node name="Environment" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1.39167, 0, 0, 0, 1.50535, 0, 0, 0, 1.36006, 0, 0, 0)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 0.999992, 0, 0, 0, 0.999991, 0, -0.5, 1.62182)
use_collision = true
size = Vector3(17, 1, 80.9965)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/Environment/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.49324, 0.396331, -1.20752)
operation = 2
size = Vector3(1.84863, 1, 3.41504)

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/Environment/CSGBox3D"]
transform = Transform3D(0.94729, 0.320377, 0, -0.320377, 0.94729, 0, 0, 0, 1, -5.87739, 0.649879, -1.20752)
operation = 2
size = Vector3(1.84863, 1, 3.41504)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.34825, 0.753917, 2.17893)
use_collision = true
size = Vector3(1, 1.61829, 8.08496)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="NavigationRegion3D/Environment/CSGBox3D2"]
transform = Transform3D(4.34267e-08, 0.993487, 0.113951, 1, -4.37114e-08, -7.96375e-16, 4.98094e-09, 0.113951, -0.993487, 0, 0, 0)
operation = 2

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.08703, 1.07806, -5.70662)
use_collision = true
size = Vector3(1, 3.15613, 1)

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.07544, 1.07806, -5.70662)
use_collision = true
size = Vector3(1, 3.15613, 1)

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.848631, 0.551971, -5.70662)
use_collision = true
size = Vector3(1, 2.10394, 1)

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.77317, -0.0333405, -5.70662)
use_collision = true
size = Vector3(1, 0.933319, 1)

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.93235, 0.963371, 6.19646)
use_collision = true
size = Vector3(2.68164, 2.92674, 1)

[node name="Legbot3000" parent="." instance=ExtResource("4_kpkau")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.26342, 0.616205, -24.652)

[node name="Legbotleg" parent="." instance=ExtResource("5_ncl7n")]
transform = Transform3D(2.18557e-08, -0.866025, 0.5, -3.78552e-08, -0.5, -0.866025, 1, 0, -4.37114e-08, 4.16341, 1.7793, -25.3235)
